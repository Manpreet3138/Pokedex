{"file_contents":{"README.md":{"content":"# Java Pokédex\n\n## Backend (Java + Spring Boot)\n\n```bash\ncd backend\nmvn clean package\njava -jar target/pokedex-backend-0.0.1-SNAPSHOT.jar\n```\n\nBackend runs on: `http://localhost:8080`\n\nTest:\n\n- `GET http://localhost:8080/api/pokemon/pikachu`\n- `GET http://localhost:8080/api/pokemon/health`\n\n## Frontend\n\nOpen `frontend/index.html` in your browser.\n\nMake sure backend is running at `http://localhost:8080`.\nThen search for any Pokémon name or ID (e.g. `pikachu`, `charizard`, `150`).\n\n## Notes\n\n- Responses from PokéAPI are cached in-memory with:\n  - LRU eviction (`maxEntries` in `application.yml`)\n  - TTL expiration (`ttlMillis` in `application.yml`)\n- You can tweak these to handle performance/footprint tradeoffs.\n","size_bytes":722},"backend/src/main/java/com/example/pokedex/controller/PokemonController.java":{"content":"package com.example.pokedex.controller;\n\nimport com.example.pokedex.service.PokemonService;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\n@RestController\n@RequestMapping(\"/api/pokemon\")\n@CrossOrigin(origins = \"*\")\npublic class PokemonController {\n\n    private final PokemonService pokemonService;\n\n    public PokemonController(PokemonService pokemonService) {\n        this.pokemonService = pokemonService;\n    }\n\n    @GetMapping(\"/{nameOrId}\")\n    public ResponseEntity<String> getPokemon(@PathVariable String nameOrId) {\n        String pokemonJson = pokemonService.getPokemon(nameOrId);\n        if (pokemonJson == null) {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND)\n                    .body(\"{\\\"error\\\":\\\"Pokemon not found\\\"}\");\n        }\n        return ResponseEntity.ok()\n                .header(\"Content-Type\", \"application/json\")\n                .body(pokemonJson);\n    }\n\n    @GetMapping(\"/health\")\n    public ResponseEntity<String> health() {\n        return ResponseEntity.ok(\"{\\\"status\\\":\\\"UP\\\"}\");\n    }\n}\n","size_bytes":1132},"frontend/styles.css":{"content":":root {\n    --bg: #0b1220;\n    --card-bg: #111827;\n    --accent: #38bdf8;\n    --accent-soft: rgba(56, 189, 248, 0.2);\n    --text: #e5e7eb;\n    --muted: #9ca3af;\n    --danger: #f97373;\n    --border: #1f2937;\n    --pill-bg: #1f2937;\n    --radius-lg: 18px;\n    --radius-pill: 999px;\n    --shadow-soft: 0 20px 40px rgba(0, 0, 0, 0.4);\n    --font-main: system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif;\n}\n\n*,\n*::before,\n*::after {\n    box-sizing: border-box;\n}\n\nbody {\n    margin: 0;\n    font-family: var(--font-main);\n    background: radial-gradient(circle at top, #1f2937, #020617 60%);\n    color: var(--text);\n    min-height: 100vh;\n}\n\n.app {\n    max-width: 960px;\n    margin: 0 auto;\n    padding: 24px 16px 32px;\n}\n\n.app-header {\n    text-align: center;\n    margin-bottom: 24px;\n}\n\n.app-header h1 {\n    margin: 0;\n    font-size: 2.4rem;\n    letter-spacing: 0.04em;\n}\n\n.subtitle {\n    margin-top: 4px;\n    color: var(--muted);\n    font-size: 0.95rem;\n}\n\n.app-main {\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n}\n\n.search-panel {\n    background: rgba(15, 23, 42, 0.9);\n    border-radius: var(--radius-lg);\n    border: 1px solid var(--border);\n    padding: 16px 18px;\n    box-shadow: var(--shadow-soft);\n}\n\n.search-panel label {\n    font-size: 0.85rem;\n    text-transform: uppercase;\n    letter-spacing: 0.12em;\n    color: var(--muted);\n}\n\n.search-row {\n    margin-top: 6px;\n    display: flex;\n    gap: 8px;\n}\n\n#searchInput {\n    flex: 1;\n    padding: 10px 12px;\n    border-radius: 999px;\n    border: 1px solid var(--border);\n    background: #020617;\n    color: var(--text);\n    outline: none;\n    font-size: 0.95rem;\n}\n\n#searchInput:focus {\n    border-color: var(--accent);\n    box-shadow: 0 0 0 1px var(--accent-soft);\n}\n\n#searchBtn {\n    padding: 10px 18px;\n    border-radius: 999px;\n    border: none;\n    cursor: pointer;\n    background: linear-gradient(135deg, #38bdf8, #6366f1);\n    color: white;\n    font-weight: 600;\n    font-size: 0.95rem;\n    transition: transform 0.1s ease, box-shadow 0.1s ease;\n    box-shadow: 0 10px 20px rgba(37, 99, 235, 0.5);\n}\n\n#searchBtn:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 14px 26px rgba(37, 99, 235, 0.6);\n}\n\n.hint {\n    margin-top: 6px;\n    font-size: 0.8rem;\n    color: var(--muted);\n}\n\n.result {\n    background: rgba(15, 23, 42, 0.96);\n    border-radius: var(--radius-lg);\n    border: 1px solid var(--border);\n    padding: 18px;\n    box-shadow: var(--shadow-soft);\n}\n\n.result-header {\n    display: flex;\n    justify-content: space-between;\n    gap: 16px;\n    align-items: center;\n    border-bottom: 1px solid var(--border);\n    padding-bottom: 10px;\n    margin-bottom: 14px;\n}\n\n.name-id {\n    display: flex;\n    align-items: baseline;\n    gap: 10px;\n}\n\n#pokemonName {\n    margin: 0;\n    font-size: 1.6rem;\n    text-transform: capitalize;\n}\n\n.pill {\n    padding: 4px 10px;\n    border-radius: var(--radius-pill);\n    background: var(--pill-bg);\n    font-size: 0.8rem;\n    color: var(--muted);\n}\n\n.types {\n    display: flex;\n    gap: 6px;\n    flex-wrap: wrap;\n}\n\n.type-pill {\n    padding: 4px 10px;\n    border-radius: var(--radius-pill);\n    font-size: 0.8rem;\n    text-transform: uppercase;\n    letter-spacing: 0.08em;\n    border: 1px solid var(--accent-soft);\n    background: rgba(15, 118, 110, 0.15);\n}\n\n.result-content {\n    display: flex;\n    gap: 18px;\n    flex-wrap: wrap;\n}\n\n.sprite-panel {\n    flex: 0 0 200px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: 10px;\n}\n\n#pokemonSprite {\n    width: 160px;\n    height: 160px;\n    image-rendering: pixelated;\n    border-radius: 24px;\n    background: radial-gradient(circle at top, #1e293b, #020617);\n    border: 1px solid var(--border);\n    padding: 12px;\n}\n\n.tags {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 6px;\n    justify-content: center;\n}\n\n.tag {\n    font-size: 0.73rem;\n    padding: 4px 8px;\n    border-radius: var(--radius-pill);\n    background: var(--accent-soft);\n    color: var(--accent);\n}\n\n.meta-panel {\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n    gap: 8px;\n}\n\n.meta-row {\n    display: flex;\n    justify-content: space-between;\n    font-size: 0.9rem;\n}\n\n.meta-label {\n    color: var(--muted);\n}\n\n.meta-value {\n    font-weight: 500;\n}\n\n.meta-block {\n    margin-top: 8px;\n}\n\n.meta-block h3 {\n    margin: 0 0 6px;\n    font-size: 0.98rem;\n}\n\n#pokemonAbilities {\n    list-style: none;\n    padding-left: 0;\n    margin: 0;\n    display: flex;\n    flex-wrap: wrap;\n    gap: 6px;\n}\n\n#pokemonAbilities li {\n    font-size: 0.85rem;\n    padding: 4px 8px;\n    border-radius: var(--radius-pill);\n    background: #020617;\n    border: 1px solid var(--border);\n    text-transform: capitalize;\n}\n\n.stats-list {\n    display: flex;\n    flex-direction: column;\n    gap: 4px;\n}\n\n.stat-row {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    font-size: 0.85rem;\n}\n\n.stat-name {\n    flex: 0 0 80px;\n    text-transform: capitalize;\n    color: var(--muted);\n}\n\n.stat-bar-wrapper {\n    flex: 1;\n    background: #020617;\n    border-radius: 999px;\n    overflow: hidden;\n    border: 1px solid var(--border);\n    height: 8px;\n}\n\n.stat-bar {\n    height: 100%;\n    background: linear-gradient(90deg, #22c55e, #eab308);\n    width: 0;\n    transition: width 0.2s ease-out;\n}\n\n.stat-value {\n    flex: 0 0 30px;\n    text-align: right;\n}\n\n.error {\n    background: rgba(248, 113, 113, 0.1);\n    border-radius: var(--radius-lg);\n    border: 1px solid rgba(248, 113, 113, 0.7);\n    padding: 10px 12px;\n    color: var(--danger);\n    font-size: 0.9rem;\n}\n\n.app-footer {\n    margin-top: 20px;\n    font-size: 0.8rem;\n    color: var(--muted);\n    text-align: center;\n}\n\n.hidden {\n    display: none;\n}\n\n@media (max-width: 640px) {\n    .result-content {\n        flex-direction: column;\n    }\n}\n","size_bytes":5778},"backend/src/main/java/com/example/pokedex/service/PokemonService.java":{"content":"package com.example.pokedex.service;\n\nimport com.example.pokedex.cache.LruCache;\nimport com.example.pokedex.client.PokeApiClient;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class PokemonService {\n\n    private final PokeApiClient pokeApiClient;\n    private final LruCache<String, String> cache;\n\n    public PokemonService(\n            PokeApiClient pokeApiClient,\n            @Value(\"${pokedex.cache.maxEntries}\") int maxEntries,\n            @Value(\"${pokedex.cache.ttlMillis}\") long ttlMillis) {\n        this.pokeApiClient = pokeApiClient;\n        this.cache = new LruCache<>(maxEntries, ttlMillis);\n    }\n\n    public String getPokemon(String nameOrId) {\n        String key = nameOrId.toLowerCase();\n\n        // 1. Try cache\n        String cached = cache.get(key);\n        if (cached != null) {\n            return cached;\n        }\n\n        // 2. Call vendor API\n        String rawJson = pokeApiClient.getPokemonRaw(key);\n        if (rawJson == null) {\n            return null;\n        }\n\n        // 3. Store in cache and return\n        cache.put(key, rawJson);\n        return rawJson;\n    }\n}\n","size_bytes":1174},"backend/src/main/java/com/example/pokedex/cache/LruCache.java":{"content":"package com.example.pokedex.cache;\n\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\npublic class LruCache<K, V> {\n\n    private final int maxEntries;\n    private final long ttlMillis;\n\n    private final LinkedHashMap<K, CacheEntry<V>> store;\n\n    public LruCache(int maxEntries, long ttlMillis) {\n        this.maxEntries = maxEntries;\n        this.ttlMillis = ttlMillis;\n\n        this.store = new LinkedHashMap<>(16, 0.75f, true) {\n            @Override\n            protected boolean removeEldestEntry(Map.Entry<K, CacheEntry<V>> eldest) {\n                return size() > LruCache.this.maxEntries;\n            }\n        };\n    }\n\n    public synchronized V get(K key) {\n        CacheEntry<V> entry = store.get(key);\n        if (entry == null) {\n            return null;\n        }\n        if (isExpired(entry)) {\n            store.remove(key);\n            return null;\n        }\n        return entry.getValue();\n    }\n\n    public synchronized void put(K key, V value) {\n        store.put(key, new CacheEntry<>(value));\n    }\n\n    private boolean isExpired(CacheEntry<V> entry) {\n        long age = System.currentTimeMillis() - entry.getCreatedAt();\n        return age > ttlMillis;\n    }\n\n    public synchronized int size() {\n        return store.size();\n    }\n}\n","size_bytes":1266},"backend/src/main/java/com/example/pokedex/client/PokeApiClient.java":{"content":"package com.example.pokedex.client;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.client.RestClient;\nimport org.springframework.web.client.HttpClientErrorException;\n\n@Component\npublic class PokeApiClient {\n\n    private final RestClient restClient;\n    private final String baseUrl;\n\n    public PokeApiClient(RestClient restClient,\n                         @Value(\"${pokedex.pokeapi.baseUrl}\") String baseUrl) {\n        this.restClient = restClient;\n        this.baseUrl = baseUrl;\n    }\n\n    public String getPokemonRaw(String nameOrId) {\n        String url = baseUrl + \"/pokemon/\" + nameOrId.toLowerCase();\n\n        try {\n            return restClient.get()\n                    .uri(url)\n                    .retrieve()\n                    .body(String.class);\n        } catch (HttpClientErrorException.NotFound e) {\n            // return null – service layer will convert to 404\n            return null;\n        }\n    }\n}\n","size_bytes":1020},"frontend/app.js":{"content":"const API_BASE = \"http://localhost:8080/api/pokemon\";\n\nconst searchInput = document.getElementById(\"searchInput\");\nconst searchBtn = document.getElementById(\"searchBtn\");\nconst resultArea = document.getElementById(\"resultArea\");\nconst errorArea = document.getElementById(\"errorArea\");\n\nconst nameEl = document.getElementById(\"pokemonName\");\nconst idEl = document.getElementById(\"pokemonId\");\nconst typesEl = document.getElementById(\"pokemonTypes\");\nconst spriteEl = document.getElementById(\"pokemonSprite\");\nconst tagsEl = document.getElementById(\"pokemonTags\");\nconst heightEl = document.getElementById(\"pokemonHeight\");\nconst weightEl = document.getElementById(\"pokemonWeight\");\nconst baseExpEl = document.getElementById(\"pokemonBaseExp\");\nconst abilitiesEl = document.getElementById(\"pokemonAbilities\");\nconst statsEl = document.getElementById(\"pokemonStats\");\n\nsearchBtn.addEventListener(\"click\", doSearch);\nsearchInput.addEventListener(\"keydown\", (e) => {\n    if (e.key === \"Enter\") {\n        doSearch();\n    }\n});\n\nfunction doSearch() {\n    const value = searchInput.value.trim();\n    if (!value) {\n        showError(\"Please enter a Pokémon name or ID.\");\n        return;\n    }\n\n    clearError();\n    setLoading(true);\n\n    fetch(`${API_BASE}/${encodeURIComponent(value)}`)\n        .then(async (res) => {\n            if (!res.ok) {\n                const text = await res.text().catch(() => \"\");\n                throw new Error(text || \"Failed to fetch Pokémon.\");\n            }\n            return res.json();\n        })\n        .then((data) => {\n            renderPokemon(data);\n        })\n        .catch((err) => {\n            console.error(err);\n            showError(\"Pokémon not found. Try another name or ID.\");\n        })\n        .finally(() => {\n            setLoading(false);\n        });\n}\n\nfunction renderPokemon(data) {\n    nameEl.textContent = data.name;\n    idEl.textContent = `#${String(data.id).padStart(3, \"0\")}`;\n\n    typesEl.innerHTML = \"\";\n    (data.types || []).forEach((t) => {\n        const span = document.createElement(\"span\");\n        span.className = \"type-pill\";\n        span.textContent = t.type.name;\n        typesEl.appendChild(span);\n    });\n\n    const sprite =\n        data.sprites?.other?.[\"official-artwork\"]?.front_default ||\n        data.sprites?.front_default ||\n        \"\";\n    spriteEl.src = sprite;\n    spriteEl.alt = data.name;\n\n    tagsEl.innerHTML = \"\";\n    const totalStats = (data.stats || []).reduce(\n        (sum, stat) => sum + (stat.base_stat || 0),\n        0\n    );\n    addTag(tagsEl, `${totalStats} total base stats`);\n\n    if (totalStats >= 600) {\n        addTag(tagsEl, \"Pseudo-legendary vibes\");\n    }\n    if ((data.types || []).some((t) => t.type.name === \"dragon\")) {\n        addTag(tagsEl, \"Dragon type\");\n    }\n    if ((data.abilities || []).some((a) => a.is_hidden)) {\n        addTag(tagsEl, \"Has hidden ability\");\n    }\n\n    const heightMeters = data.height / 10;\n    const weightKg = data.weight / 10;\n    heightEl.textContent = `${heightMeters.toFixed(1)} m`;\n    weightEl.textContent = `${weightKg.toFixed(1)} kg`;\n    baseExpEl.textContent = data.base_experience ?? \"-\";\n\n    abilitiesEl.innerHTML = \"\";\n    (data.abilities || []).forEach((a) => {\n        const li = document.createElement(\"li\");\n        li.textContent = a.ability.name + (a.is_hidden ? \" (hidden)\" : \"\");\n        abilitiesEl.appendChild(li);\n    });\n\n    statsEl.innerHTML = \"\";\n    (data.stats || []).forEach((s) => {\n        const row = document.createElement(\"div\");\n        row.className = \"stat-row\";\n\n        const nameSpan = document.createElement(\"span\");\n        nameSpan.className = \"stat-name\";\n        nameSpan.textContent = s.stat.name.replace(\"special-\", \"sp \");\n\n        const barWrapper = document.createElement(\"div\");\n        barWrapper.className = \"stat-bar-wrapper\";\n\n        const bar = document.createElement(\"div\");\n        bar.className = \"stat-bar\";\n        const val = s.base_stat || 0;\n        const width = Math.min((val / 180) * 100, 100);\n        bar.style.width = `${width}%`;\n\n        barWrapper.appendChild(bar);\n\n        const valueSpan = document.createElement(\"span\");\n        valueSpan.className = \"stat-value\";\n        valueSpan.textContent = val;\n\n        row.appendChild(nameSpan);\n        row.appendChild(barWrapper);\n        row.appendChild(valueSpan);\n\n        statsEl.appendChild(row);\n    });\n\n    resultArea.classList.remove(\"hidden\");\n}\n\nfunction addTag(container, text) {\n    const span = document.createElement(\"span\");\n    span.className = \"tag\";\n    span.textContent = text;\n    container.appendChild(span);\n}\n\nfunction showError(message) {\n    errorArea.textContent = message;\n    errorArea.classList.remove(\"hidden\");\n    resultArea.classList.add(\"hidden\");\n}\n\nfunction clearError() {\n    errorArea.textContent = \"\";\n    errorArea.classList.add(\"hidden\");\n}\n\nfunction setLoading(isLoading) {\n    searchBtn.disabled = isLoading;\n    searchBtn.textContent = isLoading ? \"Searching...\" : \"Search\";\n}\n","size_bytes":4990},"backend/src/main/java/com/example/pokedex/cache/CacheEntry.java":{"content":"package com.example.pokedex.cache;\n\npublic class CacheEntry<V> {\n    private final V value;\n    private final long createdAt;\n\n    public CacheEntry(V value) {\n        this.value = value;\n        this.createdAt = System.currentTimeMillis();\n    }\n\n    public V getValue() {\n        return value;\n    }\n\n    public long getCreatedAt() {\n        return createdAt;\n    }\n}\n","size_bytes":370},"backend/src/main/java/com/example/pokedex/PokedexApplication.java":{"content":"package com.example.pokedex;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.web.client.RestClient;\n\n@SpringBootApplication\npublic class PokedexApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(PokedexApplication.class, args);\n    }\n\n    @Bean\n    public RestClient restClient() {\n        return RestClient.create();\n    }\n}\n","size_bytes":517}},"version":2}